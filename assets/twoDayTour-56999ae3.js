import"./modulepreload-polyfill-3cfb730f.js";import{initializeApp as l}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as d,signInWithCustomToken as p,signInAnonymously as t}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore as f}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";let o,r,i,n="tour-planner-guest";const _=typeof __app_id<"u"?__app_id:"default-app-id",s=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},a=typeof __initial_auth_token<"u"?__initial_auth_token:null;if(Object.keys(s).length>0)try{o=l(s),r=f(o),i=d(o),a?p(i,a).then(e=>{n=e.user.uid,console.log("Authenticated with custom token. User ID:",n)}).catch(e=>{console.error("Custom auth failed, signing in anonymously:",e),t(i).then(u=>{n=u.user.uid,console.log("Signed in anonymously. User ID:",n)})}):t(i).then(e=>{n=e.user.uid,console.log("Signed in anonymously. User ID:",n)})}catch(e){console.error("Firebase initialization failed:",e)}else console.warn("Firebase configuration not found. Running without persistent data storage.");window.db=r;window.auth=i;window.appId=_;
